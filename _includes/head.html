<head>
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'none';
        script-src 'self' 'unsafe-inline' 'unsafe-eval'
            https://cdn.jsdelivr.net/
            https://polyfill.io/
            https://www.googletagmanager.com/
            https://utteranc.es/
            https://pyscript.net/;
        style-src 'self' 'unsafe-inline'
            https://cdn.jsdelivr.net/
            https://pyscript.net/;
        img-src 'self' data:
            https://cdn.jsdelivr.net/
            https://www.googletagmanager.com/
            https://www.google-analytics.com/
            https://github.com/
            https://avatars.githubusercontent.com/
            https://github-readme-stats.vercel.app/
            https://cdn.simpleicons.org/;
        font-src 'self' data:
            https://cdn.jsdelivr.net/;
        connect-src 'self'
            https://cdn.jsdelivr.net/
            https://www.googletagmanager.com/
            https://www.google-analytics.com
            https://www.analytics.google.com/
            https://pyscript.net/
            https://api.bloggify.net/gh-calendar/;
        media-src 'self';
        object-src 'self';
        child-src 'self' 'unsafe-inline'
            https://www.google.com/
            https://www.youtube.com/
            https://utteranc.es/;
        form-action 'none';
        base-uri 'self'
    "/>
    <meta http-equiv="X-XSS-Protection" content="1;mode=block" always>
    <meta http-equiv="Referrer-Policy" content="no-referrer, strict-origin-when-cross-origin">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ site.title }}-{{ page.title }}</title>
    {% seo title=false %}
    <link rel="icon" type="image/png" href="/assets/img/avatar.jpeg">

    {% if jekyll.environment == "production" %}
    <!-- google analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DJSSTNL817"></script>
    <script>
        window.dataLayer = window.dataLayer || []
        function gtag() { dataLayer.push(arguments) }
        gtag('js', new Date())
        gtag('config', 'G-DJSSTNL817')
    </script>
    {% endif %}

    <!-- pico css -->
    <link rel="stylesheet" href="{{ site.packages }}/@picocss/pico@latest/css/pico.min.css">
    <!-- custom style -->
    <link rel="stylesheet" href="/assets/main.css"/>
    <!-- custom modal switcher -->
    <script src="/assets/js/modal.js"></script>
    <!-- custom theme switcher -->
    <script src="/assets/js/theme.js"></script>
    
    <!-- animation -->
    <link rel="stylesheet" href="{{ site.packages }}/animate.css/animate.min.css">

    <!-- font awesome icon -->
    <link rel="stylesheet" href="{{ site.packages }}/@fortawesome/fontawesome-free@latest/css/all.min.css">
    <link rel="stylesheet" href="{{ site.packages }}/font-awesome-animation@latest/css/font-awesome-animation.min.css">
    <!-- lxgw wenkai font -->
    <link rel="stylesheet" href="{{ site.packages }}/lxgw-wenkai-lite-webfont@latest/lxgwwenkailite-regular.css">
    <link rel="stylesheet" href="{{ site.packages }}/lxgw-wenkai-lite-webfont@latest/lxgwwenkailite-bold.css">
    <!-- allura font -->
    <link rel="stylesheet" href="{{ site.packages }}/@fontsource/allura@latest/index.min.css">

    {% if page.required contains "code" %}
    <!-- prism js -->
    <script src="{{ site.packages }}/prismjs@latest/components/prism-core.min.js"></script>
    <link rel="stylesheet" href="{{ site.packages }}/prismjs@latest/themes/prism-coy.min.css">
    <script src="{{ site.packages }}/prismjs@latest/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="{{ site.packages }}/prismjs@latest/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <link rel="stylesheet" href="{{ site.packages }}/prismjs@latest/plugins/line-numbers/prism-line-numbers.min.css">
    <script src="{{ site.packages }}/prismjs@latest/plugins/file-highlight/prism-file-highlight.min.js"></script>
    <!-- roboto mono font -->
    <link rel="stylesheet" href="{{ site.packages }}/@fontsource/roboto-mono@latest/index.min.css">
    {% endif %}

    {% if page.required contains "math" %}
    <!-- mathjax -->
    <script id="MathJax-script" async src="{{ site.packages }}/mathjax@latest/es5/tex-mml-chtml.js"></script>
    <script>MathJax={loader: {load: ['ui/lazy']},tex: {inlineMath: [['$', '$']],processEscapes: true}}
    </script>
    {% endif %}

    {% if page.required contains "mermaid" %}
    <!-- mermaid -->
    <script src="{{ site.packages }}/mermaid@latest/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true, theme:"forest", flowchart:{useMaxWidth:false, htmlLabels:true}})</script>
    {% endif %}

    {% if page.required contains "gallery" %}
    <!-- light gallery -->
    <script src="{{ site.packages }}/lightgallery@latest/lightgallery.min.js"></script>
    <script src="{{ site.packages }}/lightgallery@latest/plugins/zoom/lg-zoom.min.js"></script>
    <script src="{{ site.packages }}/lightgallery@latest/plugins/autoplay/lg-autoplay.min.js"></script>
    <script src="{{ site.packages }}/lightgallery@latest/plugins/thumbnail/lg-thumbnail.min.js"></script>
    <link rel="stylesheet" href="{{ site.packages }}/lightgallery@latest/css/lightgallery-bundle.min.css">
    <link rel="stylesheet" href="{{ site.packages }}/lightgallery@latest/css/lg-transitions.css">
    <!-- exifr -->
    <script src="{{ site.packages }}/exifr@latest/dist/full.umd.min.js"></script>
    <!-- custom gallery initializer -->
    <script src="/assets/js/gallery.js"></script>
    {% endif %}

    <!-- simple jekyll search -->
    <script src="{{ site.packages }}/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
    <script src="/assets/js/search.js"></script>

    <!-- custom json loader -->
    <script src="/assets/js/json.js"></script>
</head>
